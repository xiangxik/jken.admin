<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <title>jken application</title>
        <meta content="webkit" name="renderer">
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"
              name="viewport">
        <link href="https://www.layuicdn.com/layui/css/layui.css" media="all" rel="stylesheet">
        <link media="all" rel="stylesheet" th:href="@{/static/layuiadmin/style/admin.css}">
    </head>
    <body>
        <div class="layui-fluid">
            <div class="layui-card">
                <div class="layui-card-header layuiadmin-card-header-auto">

                    <div class="layui-form">
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">名称</label>
                                <div class="layui-input-inline">
                                    <input autocomplete="off" class="layui-input" name="name" placeholder="请输入"
                                           type="text">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">代号</label>
                                <div class="layui-input-inline">
                                    <input autocomplete="off" class="layui-input" name="code" placeholder="请输入"
                                           type="text">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <button class="layui-btn layuiadmin-btn-list" lay-filter="jk-search" lay-submit>
                                    <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="layui-card-body">
                    <script id="jk-toolbar" type="text/html">
                        <div class="layui-btn-container">
                            <button class="layui-btn" lay-event="create">新增</button>
                            <button class="layui-btn" lay-event="batchDelete">批量删除</button>
                        </div>
                    </script>

                    <table class="layui-hidden" id="jk-treeGrid" lay-filter="jk-treeGrid"></table>

                    <script id="jk-tool" type="text/html">
                        <a class="layui-btn layui-btn-xs" lay-event="add">添加下级</a>
                        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
                        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                    </script>
                </div>
            </div>
        </div>

        <script src="https://www.layuicdn.com/layui/layui.js"></script>
        <script th:inline="javascript" type="text/javascript">
    var base = /*[[${#httpServletRequest.getContextPath()}]]*/"";
        </script>
        <script>
layui.config({
  base: base + '/static/layuiadmin/'
}).extend({
  treeGrid: 'lib/extend/treeGrid' //主入口模块
}).use(['treeGrid', 'tree'], function () {
  var treeGrid = layui.treeGrid;
  var tree = layui.tree;
  var $ = layui.$;

  treeGrid.render({
    id: "jk-treeGrid",
    elem: '#jk-treeGrid',
    url: base + '/menu',
    toolbar: '#jk-toolbar',
    cellMinWidth: 100,
    idField: 'id',//必須字段
    treeId: 'id',//树形id字段名称
    treeUpId: 'pId',//树形父id字段名称
    treeShowName: 'name',//以树形式显示的字段
    heightRemove: [".dHead", 10],//不计算的高度,表格设定的是固定高度，此项不生效
    height: 'full-128',
    isFilter: false,
    iconOpen: false,//是否显示图标【默认显示】
    isOpenDefault: true,//节点默认是展开还是折叠【默认展开】
    loading: true,
    method: 'get',
    isPage: false,
    cols: [ [
      { type: 'checkbox', field: 'id' },
      { field: 'name', width: 300, title: '菜单名称', sort: true },
      { field: 'href', title: '访问地址', sort: true },
      {
        width: 160, title: '操作', align: 'center', toolbar: '#jk-tool'
      }
    ] ]
  });
});
        </script>
    </body>
</html>
